<link
		rel="import"
		href="/static/bower_components/polymer/polymer.html" />

<link
	rel="import" 
	href="/static/otree-redwood/webcomponents/redwood-events/redwood-events.html">


<!--
	https://otree-redwood.readthedocs.io/webcomponents.html#redwood-channel
-->
<dom-module id="redwood-channel">

	<template>
		<redwood-events
			id="events"
			on-event="_handleEvent">
		</redwood-channel>
	</template>

	<script>

		Polymer({
			is: 'redwood-channel',
			properties: {
				channel: {
					type: String
				}
			},
			_handleEvent(event) {
				if (event.detail.channel === this.channel) {
					this.fire('event', event.detail);
				}
			},
			send(payload) {
				this.$.events.send(this.channel, payload);
			}
		});
	</script>

</dom-module>
